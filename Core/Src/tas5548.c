/*
 * PCM9211 codec driver
 *
 * Copyright (C) 2023 PT. Hartono Istana Teknologi
 *
 * Author; Adrian B. Hartanto <adrian.b.hartanto@polytron.co.id>
 *
 */


#include "tas5548.h"
#include "sound.h"
#include "system.h"
#ifdef USE_BREAKPOINT_EN
// #include "eeprom.h"
#endif

extern I2C_HandleTypeDef hi2c2;

typedef struct 
{
	uint8_t addr;
	uint8_t size;
	uint8_t *isi;
}tas5548_reg;
uint8_t tas5584_i2c_buf;
uint8_t tas5584_i2c_buf2[4];

uint8_t ERR_STAT				= 0x00;
uint8_t SYS_CTRL1				= 0xA0;
uint8_t SYS_CTRL2				= 0x53;
uint8_t OSC_TRIM				= 0xC0;
uint8_t CH_CFG_CTRL1			= 0xE0;
uint8_t IN_MUX_CH_1_2			= 0x01;
uint8_t IN_MIXER_CH1[32]		= {0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
#ifdef SETTING_AUTRAN

uint8_t CH1_BIQUAD1_FILTER[20]	= {0x00, 0x7F, 0xFB, 0xB6, 0x0F, 0x80, 0x04, 0x4A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0xF7, 0x6C, 0x00, 0x00, 0x00, 0x00};
uint8_t CH1_BIQUAD2_FILTER[20]	= {0x00, 0x00, 0x00, 0x5A, 0x00, 0x00, 0x00, 0xB3, 0x00, 0x00, 0x00, 0x5A, 0x00, 0xFF, 0x11, 0x2C, 0x0F, 0x80, 0xED, 0x6E};
uint8_t CH1_BIQUAD3_FILTER[20]	= {0x00, 0x00, 0x00, 0x5A, 0x00, 0x00, 0x00, 0xB3, 0x00, 0x00, 0x00, 0x5A, 0x00, 0xFF, 0x28, 0xD6, 0x0F, 0x80, 0xD5, 0xC4};
uint8_t CH1_BIQUAD4_FILTER[20]	= {0x00, 0x80, 0x15, 0xE5, 0x0F, 0x00, 0x2C, 0x08, 0x00, 0x7F, 0xBE, 0x31, 0x00, 0xFF, 0xD4, 0x03, 0x0F, 0x80, 0x2B, 0xF5};
uint8_t CH1_BIQUAD5_FILTER[20]	= {0x00, 0x48, 0x03, 0x6C, 0x0F, 0x70, 0x3E, 0x1F, 0x00, 0x47, 0xBE, 0x96, 0x00, 0xFF, 0xA4, 0x13, 0x0F, 0x80, 0x5B, 0xCC};
uint8_t CH1_BIQUAD6_FILTER[20]	= {0x00, 0x20, 0x2E, 0xD0, 0x0F, 0xBF, 0xC1, 0xEC, 0x00, 0x20, 0x0F, 0x53, 0x00, 0xFF, 0xC1, 0x1C, 0x0F, 0x80, 0x3E, 0xD4};
uint8_t CH1_BIQUAD7_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
#else
uint8_t CH1_BIQUAD1_FILTER[20]	= {0x00, 0x80, 0x0F, 0x55, 0x0F, 0x00, 0x5B, 0xFA, 0x00, 0x7F, 0x94, 0xEB, 0x00, 0xFF, 0xA4, 0x13, 0x0F, 0x80, 0x5B, 0xCC};
uint8_t CH1_BIQUAD2_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00, 0x0F, 0x80, 0x00, 0x00};
uint8_t CH1_BIQUAD3_FILTER[20]	= {0x00, 0x00, 0x00, 0x2F, 0x00, 0x00, 0x00, 0x5E, 0x00, 0x00, 0x00, 0x2F, 0x00, 0xFF, 0x24, 0x13, 0x0F, 0x80, 0xDB, 0x31};
uint8_t CH1_BIQUAD4_FILTER[20]	= {0x00, 0x00, 0x00, 0x2F, 0x00, 0x00, 0x00, 0x5E, 0x00, 0x00, 0x00, 0x2F, 0x00, 0xFF, 0x24, 0x13, 0x0F, 0x80, 0xDB, 0x31};
uint8_t CH1_BIQUAD5_FILTER[20]	= {0x00, 0x00, 0x00, 0x2F, 0x00, 0x00, 0x00, 0x5E, 0x00, 0x00, 0x00, 0x2F, 0x00, 0xFF, 0x24, 0x13, 0x0F, 0x80, 0xDB, 0x31};
uint8_t CH1_BIQUAD6_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH1_BIQUAD7_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
#endif
uint8_t CH2_BIQUAD1_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH2_BIQUAD2_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH2_BIQUAD3_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH2_BIQUAD4_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH2_BIQUAD5_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH2_BIQUAD6_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH2_BIQUAD7_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH3_BIQUAD1_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH3_BIQUAD2_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH3_BIQUAD3_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH3_BIQUAD4_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH3_BIQUAD5_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH3_BIQUAD6_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH3_BIQUAD7_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH4_BIQUAD1_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH4_BIQUAD2_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH4_BIQUAD3_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH4_BIQUAD4_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH4_BIQUAD5_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH4_BIQUAD6_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH4_BIQUAD7_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH5_BIQUAD1_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH5_BIQUAD2_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH5_BIQUAD3_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH5_BIQUAD4_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH5_BIQUAD5_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH5_BIQUAD6_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH5_BIQUAD7_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH6_BIQUAD1_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH6_BIQUAD2_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH6_BIQUAD3_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH6_BIQUAD4_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH6_BIQUAD5_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH6_BIQUAD6_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH6_BIQUAD7_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH7_BIQUAD1_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH7_BIQUAD2_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH7_BIQUAD3_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH7_BIQUAD4_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH7_BIQUAD5_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH7_BIQUAD6_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH7_BIQUAD7_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH8_BIQUAD1_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH8_BIQUAD2_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH8_BIQUAD3_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH8_BIQUAD4_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH8_BIQUAD5_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH8_BIQUAD6_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t CH8_BIQUAD7_FILTER[20]	= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t BASS_TREB_CH1[8]		= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t BASS_TREB_CH2[8]		= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t BASS_TREB_CH3[8]		= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t BASS_TREB_CH4[8]		= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t BASS_TREB_CH5[8]		= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t BASS_TREB_CH6[8]		= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t BASS_TREB_CH7[8]		= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t BASS_TREB_CH8[8]		= {0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00};
uint8_t LOUD_LOG2_GAIN[4]		= {0x00, 0x00, 0x00, 0x00};
uint8_t LOUD_BIQUAD[20]			= {0x00, 0xFE, 0x50, 0x45, 0x0F, 0x81, 0xAA, 0x27, 0x00, 0x00, 0xD5, 0x13, 0x00, 0x00, 0x00, 0x00, 0x0F, 0xFF, 0x2A, 0xED};
#ifdef SETTING_AUTRAN
// 0x98 0x00, 0x00, 0x22, 0x1E, 0x00, 0x7F, 0xDD, 0xE2
// 0x99 0x0B, 0x20, 0xE2, 0xB0, 0x02, 0x68, 0x8C, 0xC3
// 0x9A 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x81, 0x47, 0xAE
// 0x9B 0x02, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00
// 0x9C 0x00, 0x00, 0x08, 0x88, 0x00, 0x7F, 0xF7, 0x78, 0x00, 0x00, 0x01, 0xB5, 0x00, 0x7F, 0xFE, 0x4B
// TAS5548_DRC1_ENERGY					0x98
// TAS5548_DRC1_THRES					0x99
// TAS5548_DRC1_SLOPE					0x9A
// TAS5548_DRC1_OFFSET					0x9B
// TAS5548_DRC1_ATK_DCY					0x9C
uint8_t DRC1_CTRL[4]			= {0x00, 0x00, 0x00, 0x02};
uint8_t DRC1_ENERGY[8]			= {0x00, 0x00, 0x00, 0x57, 0x00, 0x7F, 0xFF, 0xA9};
uint8_t DRC1_THRES[8]			= {0x02, 0x7D, 0xCF, 0x68, 0x01, 0x3E, 0xE7, 0xB4};
uint8_t DRC1_SLOPE[12]			= {0x00, 0x00, 0x00, 0x00, 0xFF, 0x80, 0x20, 0xC5, 0xFF, 0x80, 0x20, 0xC5};
uint8_t DRC1_OFFSET[8]			= {0x02, 0x00, 0x00, 0x00, 0x03, 0x3E, 0x96, 0x10};
uint8_t DRC1_ATK_DCY[16]		= {0x00, 0x00, 0x88, 0x3F, 0x00, 0x7F, 0x77, 0xC0, 0x00, 0x01, 0x53, 0x8F, 0x00, 0x7E, 0xAC, 0x70};
uint8_t DRC1_ATK_DCY2[16]		= {0x00, 0x00, 0x01, 0x23, 0x00, 0x7F, 0xFE, 0xDD, 0x00, 0x00, 0x00, 0x2C, 0x00, 0x7F, 0xFF, 0xD4};
uint8_t DRC2_ENERGY[8]			= {0x00, 0x00, 0x22, 0x1E, 0x00, 0x7F, 0xDD, 0xE2};
uint8_t DRC2_THRES[8]			= {0x0B, 0x20, 0xE2, 0xB0, 0x06, 0xF9, 0xDE, 0x57};
uint8_t DRC2_SLOPE[12]			= {0x00, 0x40, 0x00, 0x00, 0x0F, 0xC0, 0x00, 0x00, 0xFF, 0x90, 0x00, 0x00};
uint8_t DRC2_OFFSET[8]			= {0xFF, 0x82, 0x30, 0x98, 0x01, 0x95, 0xB2, 0xC4};
uint8_t DRC2_ATK_DCY[16]		= {0x00, 0x00, 0x88, 0x3F, 0x00, 0x7F, 0x77, 0xC0, 0x00, 0x01, 0x53, 0x8F, 0x00, 0x7E, 0xAC, 0x70};
uint8_t DRC2_ATK_DCY2[16]		= {0x00, 0x00, 0x22, 0x1E, 0x00, 0x7F, 0xDD, 0xE2, 0x00, 0x00, 0x55, 0x39, 0x00, 0x7F, 0xAA, 0xC7};
uint8_t DRC1_CH1[8]				= {0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00};
#else
uint8_t DRC1_ENERGY[8]			= {0x00, 0x00, 0x44, 0x32, 0x00, 0x7F, 0xBB, 0xCE};
uint8_t DRC1_THRES[8]			= {0x0B, 0x20, 0xE2, 0xB0, 0x06, 0xF9, 0xDE, 0x57};
uint8_t DRC1_SLOPE[12]			= {0x00, 0x40, 0x00, 0x00, 0xFF, 0xC0, 0x00, 0x00, 0xFF, 0x90, 0x00, 0x00};
uint8_t DRC1_OFFSET[8]			= {0xFF, 0x82, 0x30, 0x98, 0x01, 0x95, 0xB2, 0xC4};
uint8_t DRC1_ATK_DCY[16]		= {0x00, 0x00, 0x88, 0x3F, 0x00, 0x7F, 0x77, 0xC0, 0x00, 0x01, 0x53, 0x8F, 0x00, 0x7E, 0xAC, 0x70};
uint8_t DRC1_ATK_DCY2[16]		= {0x00, 0x00, 0x44, 0x32, 0x00, 0x7F, 0xBB, 0xCE, 0x00, 0x00, 0xAA, 0x39, 0x00, 0x7F, 0x55, 0xC7};
uint8_t DRC2_ENERGY[8]			= {0x00, 0x00, 0x44, 0x32, 0x00, 0x7F, 0xBB, 0xCE};
uint8_t DRC2_THRES[8]			= {0x0B, 0x20, 0xE2, 0xB0, 0x06, 0xF9, 0xDE, 0x57};
uint8_t DRC2_SLOPE[12]			= {0x00, 0x40, 0x00, 0x00, 0xFF, 0xC0, 0x00, 0x00, 0xFF, 0x90, 0x00, 0x00};
uint8_t DRC2_OFFSET[8]			= {0xFF, 0x82, 0x30, 0x98, 0x01, 0x95, 0xB2, 0xC4};
uint8_t DRC2_ATK_DCY[16]		= {0x00, 0x00, 0x88, 0x3F, 0x00, 0x7F, 0x77, 0xC0, 0x00, 0x01, 0x53, 0x8F, 0x00, 0x7E, 0xAC, 0x70};
uint8_t DRC2_ATK_DCY2[16]		= {0x00, 0x00, 0x44, 0x32, 0x00, 0x7F, 0xBB, 0xCE, 0x00, 0x00, 0xAA, 0x39, 0x00, 0x7F, 0x55, 0xC7};
#endif
uint8_t ASRC_MODE[4]			= {0x00, 0x11, 0x00, 0x01};
uint8_t VOL_TREB_BASS_SLEW[4]	= {0x00, 0x00, 0x01, 0x04};
uint8_t VOL_CH1[4]				= {0x00, 0x00, 0x00, 0x27};
uint8_t VOL_CH2[4]				= {0x00, 0x00, 0x00, 0x48};
uint8_t VOL_CH3[4]				= {0x00, 0x00, 0x00, 0x48};
uint8_t VOL_CH4[4]				= {0x00, 0x00, 0x00, 0x48};
uint8_t VOL_CH5[4]				= {0x00, 0x00, 0x00, 0x48};
uint8_t VOL_CH6[4]				= {0x00, 0x00, 0x00, 0x48};
uint8_t VOL_CH7[4]				= {0x00, 0x00, 0x00, 0x48};
uint8_t VOL_CH8[4]				= {0x00, 0x00, 0x00, 0x48};
uint8_t MASTER_VOL[4]			= {0x00, 0x00, 0x00, 0x70};
uint8_t MASTER_VOL2[4]			= {0x00, 0x00, 0x00, 0x48};
uint8_t BASS_FIL_SET[4]			= {0x01, 0x03, 0x03, 0x01};
uint8_t BASS_FIL_INDEX[4]		= {0x0D, 0x12, 0x12, 0x12};
uint8_t TREB_FIL_SET[4]			= {0x03, 0x03, 0x03, 0x03};
uint8_t TREB_FIL_INDEX[4]		= {0x12, 0x12, 0x12, 0x12};
uint8_t OUT_MIXER_CH1[16]		= {0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t OUT_MIXER_CH2[16]		= {0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t OUT_MIXER_CH3[16]		= {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
uint8_t OUT_MIXER_CH4[16]		= {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00};


tas5548_reg tas5548_reg_defaults[107] = {
	{TAS5548_OSC_TRIM				, 0x01, &OSC_TRIM					},		//00
	{TAS5548_SYS_CTRL1				, 0x01, &SYS_CTRL1					},		//01
	{TAS5548_SYS_CTRL2				, 0x01, &SYS_CTRL2					},		//02
	{TAS5548_MASTER_VOL				, 0x04,	&MASTER_VOL[0]				},		//03
	{TAS5548_DRC1_ATK_DCY			, 0x10, &DRC1_ATK_DCY[0]			},		//04
	{TAS5548_DRC2_ATK_DCY			, 0x10, &DRC2_ATK_DCY[0]			},		//05
	{TAS5548_ERR_STAT				, 0x01, &ERR_STAT					},		//06
	{TAS5548_CH_CFG_CTRL1			, 0x01, &CH_CFG_CTRL1				},		//07	--> sisipan	//104
	{TAS5548_IN_MUX_CH_1_2			, 0x20,	&IN_MUX_CH_1_2				},		//08	--> sisipan	//105
	{TAS5548_IN_MIXER_CH1			, 0x20,	&IN_MIXER_CH1[0]			},		//09	--> sisipan	//103
	//delay
	{TAS5548_CH1_BIQUAD1_FILTER		, 0x14, &CH1_BIQUAD1_FILTER[0]		},		//10
	{TAS5548_CH1_BIQUAD2_FILTER		, 0x14, &CH1_BIQUAD2_FILTER[0]		},		//11
	{TAS5548_CH1_BIQUAD3_FILTER		, 0x14, &CH1_BIQUAD3_FILTER[0]		},		//12
	{TAS5548_CH1_BIQUAD4_FILTER		, 0x14, &CH1_BIQUAD4_FILTER[0]		},		//13
	{TAS5548_CH1_BIQUAD5_FILTER		, 0x14, &CH1_BIQUAD5_FILTER[0]		},		//14
	{TAS5548_CH1_BIQUAD6_FILTER		, 0x14, &CH1_BIQUAD6_FILTER[0]		},		//15
	{TAS5548_CH1_BIQUAD7_FILTER		, 0x14, &CH1_BIQUAD7_FILTER[0]		},		//16
	//delay	
	{TAS5548_CH2_BIQUAD1_FILTER		, 0x14, &CH2_BIQUAD1_FILTER[0]		},		//17
	{TAS5548_CH2_BIQUAD2_FILTER		, 0x14, &CH2_BIQUAD2_FILTER[0]		},		//18
	{TAS5548_CH2_BIQUAD3_FILTER		, 0x14, &CH2_BIQUAD3_FILTER[0]		},		//19
	{TAS5548_CH2_BIQUAD4_FILTER		, 0x14, &CH2_BIQUAD4_FILTER[0]		},		//20
	{TAS5548_CH2_BIQUAD5_FILTER		, 0x14, &CH2_BIQUAD5_FILTER[0]		},		//21
	{TAS5548_CH2_BIQUAD6_FILTER		, 0x14, &CH2_BIQUAD6_FILTER[0]		},		//22
	{TAS5548_CH2_BIQUAD7_FILTER		, 0x14, &CH2_BIQUAD7_FILTER[0]		},		//23
	//delay
	{TAS5548_CH3_BIQUAD1_FILTER		, 0x14, &CH3_BIQUAD1_FILTER[0]		},		//24
	{TAS5548_CH3_BIQUAD2_FILTER		, 0x14, &CH3_BIQUAD2_FILTER[0]		},		//25
	{TAS5548_CH3_BIQUAD3_FILTER		, 0x14, &CH3_BIQUAD3_FILTER[0]		},		//26
	{TAS5548_CH3_BIQUAD4_FILTER		, 0x14, &CH3_BIQUAD4_FILTER[0]		},		//27
	{TAS5548_CH3_BIQUAD5_FILTER		, 0x14, &CH3_BIQUAD5_FILTER[0]		},		//28
	{TAS5548_CH3_BIQUAD6_FILTER		, 0x14, &CH3_BIQUAD6_FILTER[0]		},		//29
	{TAS5548_CH3_BIQUAD7_FILTER		, 0x14, &CH3_BIQUAD7_FILTER[0]		},		//30
	//delay
	{TAS5548_CH4_BIQUAD1_FILTER		, 0x14, &CH4_BIQUAD1_FILTER[0]		},		//31
	{TAS5548_CH4_BIQUAD2_FILTER		, 0x14, &CH4_BIQUAD2_FILTER[0]		},		//32
	{TAS5548_CH4_BIQUAD3_FILTER		, 0x14, &CH4_BIQUAD3_FILTER[0]		},		//33
	{TAS5548_CH4_BIQUAD4_FILTER		, 0x14, &CH4_BIQUAD4_FILTER[0]		},		//34
	{TAS5548_CH4_BIQUAD5_FILTER		, 0x14, &CH4_BIQUAD5_FILTER[0]		},		//35
	{TAS5548_CH4_BIQUAD6_FILTER		, 0x14, &CH4_BIQUAD6_FILTER[0]		},		//36
	{TAS5548_CH4_BIQUAD7_FILTER		, 0x14, &CH4_BIQUAD7_FILTER[0]		},		//37
	//delay
	{TAS5548_CH5_BIQUAD1_FILTER		, 0x14, &CH5_BIQUAD1_FILTER[0]		},		//38
	{TAS5548_CH5_BIQUAD2_FILTER		, 0x14, &CH5_BIQUAD2_FILTER[0]		},		//39
	{TAS5548_CH5_BIQUAD3_FILTER		, 0x14, &CH5_BIQUAD3_FILTER[0]		},		//40
	{TAS5548_CH5_BIQUAD4_FILTER		, 0x14, &CH5_BIQUAD4_FILTER[0]		},		//41
	{TAS5548_CH5_BIQUAD5_FILTER		, 0x14, &CH5_BIQUAD5_FILTER[0]		},		//42
	{TAS5548_CH5_BIQUAD6_FILTER		, 0x14, &CH5_BIQUAD6_FILTER[0]		},		//43
	{TAS5548_CH5_BIQUAD7_FILTER		, 0x14, &CH5_BIQUAD7_FILTER[0]		},		//44
	//delay
	{TAS5548_CH6_BIQUAD1_FILTER		, 0x14, &CH6_BIQUAD1_FILTER[0]		},		//45
	{TAS5548_CH6_BIQUAD2_FILTER		, 0x14, &CH6_BIQUAD2_FILTER[0]		},		//46
	{TAS5548_CH6_BIQUAD3_FILTER		, 0x14, &CH6_BIQUAD3_FILTER[0]		},		//47
	{TAS5548_CH6_BIQUAD4_FILTER		, 0x14, &CH6_BIQUAD4_FILTER[0]		},		//48
	{TAS5548_CH6_BIQUAD5_FILTER		, 0x14, &CH6_BIQUAD5_FILTER[0]		},		//49
	{TAS5548_CH6_BIQUAD6_FILTER		, 0x14, &CH6_BIQUAD6_FILTER[0]		},		//50
	{TAS5548_CH6_BIQUAD7_FILTER		, 0x14, &CH6_BIQUAD7_FILTER[0]		},		//51
	//delay
	{TAS5548_CH7_BIQUAD1_FILTER		, 0x14, &CH7_BIQUAD1_FILTER[0]		},		//52
	{TAS5548_CH7_BIQUAD2_FILTER		, 0x14, &CH7_BIQUAD2_FILTER[0]		},		//53
	//delay
	{TAS5548_CH7_BIQUAD3_FILTER		, 0x14, &CH7_BIQUAD3_FILTER[0]		},		//54
	{TAS5548_CH7_BIQUAD4_FILTER		, 0x14, &CH7_BIQUAD4_FILTER[0]		},		//55
	{TAS5548_CH7_BIQUAD5_FILTER		, 0x14, &CH7_BIQUAD5_FILTER[0]		},		//56
	{TAS5548_CH7_BIQUAD6_FILTER		, 0x14, &CH7_BIQUAD6_FILTER[0]		},		//57
	{TAS5548_CH7_BIQUAD7_FILTER		, 0x14, &CH7_BIQUAD7_FILTER[0]		},		//58
	//delay
	{TAS5548_CH8_BIQUAD1_FILTER		, 0x14, &CH8_BIQUAD1_FILTER[0]		},		//59
	{TAS5548_CH8_BIQUAD2_FILTER		, 0x14, &CH8_BIQUAD2_FILTER[0]		},		//60
	//delay
	{TAS5548_CH8_BIQUAD3_FILTER		, 0x14, &CH8_BIQUAD3_FILTER[0]		},		//61
	{TAS5548_CH8_BIQUAD4_FILTER		, 0x14, &CH8_BIQUAD4_FILTER[0]		},		//62
	{TAS5548_CH8_BIQUAD5_FILTER		, 0x14, &CH8_BIQUAD5_FILTER[0]		},		//63
	{TAS5548_CH8_BIQUAD6_FILTER		, 0x14, &CH8_BIQUAD6_FILTER[0]		},		//64
	{TAS5548_CH8_BIQUAD7_FILTER		, 0x14, &CH8_BIQUAD7_FILTER[0]		},		//65
	//delay
	{TAS5548_DRC1_ENERGY			, 0x08, &DRC1_ENERGY[0]				},		//66
	{TAS5548_DRC1_ATK_DCY			, 0x10, &DRC1_ATK_DCY2[0]			},		//67
	{TAS5548_DRC1_SLOPE				, 0x0C, &DRC1_SLOPE[0]				},		//68
	{TAS5548_DRC1_THRES				, 0x08, &DRC1_THRES[0]				},		//69
	{TAS5548_DRC1_OFFSET			, 0x08, &DRC1_OFFSET[0]				},		//70
	//delay
	{TAS5548_DRC2_ENERGY			, 0x08, &DRC2_ENERGY[0]				},		//71
	{TAS5548_DRC2_ATK_DCY			, 0x10, &DRC2_ATK_DCY2[0]			},		//72
	{TAS5548_DRC2_SLOPE				, 0x0C, &DRC2_SLOPE[0]				},		//73
	{TAS5548_DRC2_THRES				, 0x08, &DRC2_THRES[0]				},		//74
	{TAS5548_DRC2_OFFSET			, 0x08, &DRC2_OFFSET[0]				},		//75
	//delay
	{TAS5548_LOUD_LOG2_GAIN			, 0x04, &LOUD_LOG2_GAIN[0]			},		//76
	//delay
	{TAS5548_LOUD_BIQUAD			, 0x14, &LOUD_BIQUAD[0]				},		//77
	// **** SISIPAN ****
	{TAS5548_ASRC_MODE				, 0x04, &ASRC_MODE[0]				},		//78	--> sisipan //102
	//delay
	{TAS5548_MASTER_VOL				, 0x04,	&MASTER_VOL2[0]				},		//79
	//delay
	{TAS5548_OUT_MIXER_CH1			, 0x10,	&OUT_MIXER_CH1[0]			},		//80
	//delay
	{TAS5548_OUT_MIXER_CH2			, 0x10,	&OUT_MIXER_CH2[0]			},		//81
	//delay
	{TAS5548_OUT_MIXER_CH3			, 0x10,	&OUT_MIXER_CH3[0]			},		//82
	//delay
	{TAS5548_OUT_MIXER_CH4			, 0x10,	&OUT_MIXER_CH4[0]			},		//83
	//delay
	{TAS5548_BASS_FIL_SET			, 0x04,	&BASS_FIL_SET[0]			},		//84
	{TAS5548_BASS_FIL_INDEX			, 0x04,	&BASS_FIL_INDEX[0]			},		//85
	{TAS5548_TREB_FIL_SET			, 0x04,	&TREB_FIL_SET[0]			},		//86
	{TAS5548_TREB_FIL_INDEX			, 0x04,	&TREB_FIL_INDEX[0]			},		//87
	{TAS5548_BASS_TREB_CH1			, 0x08, &BASS_TREB_CH1[0]			},		//88
	{TAS5548_BASS_TREB_CH2			, 0x08, &BASS_TREB_CH2[0]			},		//89
	{TAS5548_BASS_TREB_CH3			, 0x08, &BASS_TREB_CH3[0]			},		//90
	{TAS5548_BASS_TREB_CH4			, 0x08, &BASS_TREB_CH4[0]			},		//91
	{TAS5548_BASS_TREB_CH5			, 0x08, &BASS_TREB_CH5[0]			},		//92
	{TAS5548_BASS_TREB_CH6			, 0x08, &BASS_TREB_CH6[0]			},		//93
	{TAS5548_BASS_TREB_CH7			, 0x08, &BASS_TREB_CH7[0]			},		//94
	{TAS5548_BASS_TREB_CH8			, 0x08, &BASS_TREB_CH8[0]			},		//95
	{TAS5548_VOL_TREB_BASS_SLEW		, 0x04, &VOL_TREB_BASS_SLEW[0]		},		//96
	//delay
	{TAS5548_VOL_CH1				, 0x04, &VOL_CH1[0]					},		//97
	{TAS5548_VOL_CH2				, 0x04, &VOL_CH2[0]					},		//98
	{TAS5548_VOL_CH3				, 0x04, &VOL_CH3[0]					},		//99
	{TAS5548_VOL_CH4				, 0x04, &VOL_CH4[0]					},		//100
	{TAS5548_VOL_CH5				, 0x04, &VOL_CH5[0]					},		//101
	{TAS5548_VOL_CH6				, 0x04, &VOL_CH6[0]					},		//102
	{TAS5548_VOL_CH7				, 0x04, &VOL_CH7[0]					},		//103
	{TAS5548_VOL_CH8				, 0x04,	&VOL_CH8[0]					},		//104
	{TAS5548_DRC1_CTRL				, 0x04,	&DRC1_CTRL[0]				},		//105
	{TAS5548_DRC1_CH1				, 0x08,	&DRC1_CH1[0]				},		//106
};

uint8_t VOLUME_MASTER[33][2] = {
	{0x01,	0xD8},	// 00	-> mute
	{0x01,	0x24},	// 01	-> -55.00
	{0x00,	0xFC},	// 02	-> -45.00
	{0x00,	0xEA},	// 03	-> -39.00
	{0x00,	0xD0},	// 04	-> -34.00
	{0x00,	0xC0},	// 05	-> -30.00
	{0x00,	0xB3},	// 06	-> -26.75
	{0x00,	0xA7},	// 07	-> -23.75
	{0x00,	0x9B},	// 08	-> -20.75
	{0x00,	0x93},	// 09	-> -18.75
	{0x00,	0x8B},	// 10	-> -16.75
	{0x00,	0x83},	// 11	-> -14.75
	{0x00,	0x7F},	// 12	-> -13.75
	{0x00,	0x7B},	// 13	-> -12.75
	{0x00,	0x77},	// 14	-> -11.75
	{0x00,	0x73},	// 15	-> -10.75
	{0x00,	0x6F},	// 16	-> -09.75
	{0x00,	0x6B},	// 17	-> -08.75
	{0x00,	0x67},	// 18	-> -07.75
	{0x00,	0x64},	// 19	-> -07.00
	{0x00,	0x61},	// 20	-> -06.25
	{0x00,	0x5E},	// 21	-> -05.50
	{0x00,	0x5B},	// 22	-> -04.75
	{0x00,	0x58},	// 23	-> -04.00
	{0x00,	0x55},	// 24	-> -03.25
	{0x00,	0x53},	// 25	-> -02.75
	{0x00,	0x51},	// 26	-> -02.25
	{0x00,	0x4F},	// 27	-> -01.75
	{0x00,	0x4D},	// 28	-> -01.25
	{0x00,	0x4B},	// 29	-> -00.75
	{0x00,	0x4A},	// 30	-> -00.50
	{0x00,	0x49},	// 31	-> -00.25
	{0x00,	0x48},	// 32	->  00.00
};

uint8_t FREQ_CUTOFF[31][12] = {
	// b0[2],	b0[3],	b1[2],	b1[3],	b2[2],	b2[3],	a1[1],	a1[2],	a1[3],	a2[1],	a2[2],	a2[3],	
	{0x00,	0x02,	0x00,	0x04,	0x00,	0x02,	0xFF,	0xD2,	0x7F,	0x80,	0x2D,	0x78},	
	{0x00,	0x02,	0x00,	0x05,	0x00,	0x02,	0xFF,	0xCF,	0x77,	0x80,	0x30,	0x80},	
	{0x00,	0x02,	0x00,	0x05,	0x00,	0x02,	0xFF,	0xCD,	0xF3,	0x80,	0x32,	0x04},	
	{0x00,	0x03,	0x00,	0x05,	0x00,	0x03,	0xFF,	0xCA,	0xEA,	0x80,	0x35,	0x0B},	
	{0x00,	0x03,	0x00,	0x06,	0x00,	0x03,	0xFF,	0xC7,	0xE2,	0x80,	0x38,	0x12},	
	{0x00,	0x03,	0x00,	0x06,	0x00,	0x03,	0xFF,	0xC6,	0x5D,	0x80,	0x39,	0x96},	
	{0x00,	0x04,	0x00,	0x07,	0x00,	0x04,	0xFF,	0xC3,	0x55,	0x80,	0x3C,	0x9D},	
	{0x00,	0x04,	0x00,	0x08,	0x00,	0x04,	0xFF,	0xBE,	0xC8,	0x80,	0x41,	0x28},	
	{0x00,	0x05,	0x00,	0x0A,	0x00,	0x05,	0xFF,	0xB8,	0xB7,	0x80,	0x47,	0x35},	
	{0x00,	0x06,	0x00,	0x0B,	0x00,	0x06,	0xFF,	0xB4,	0x2A,	0x80,	0x4B,	0xC0},	
	{0x00,	0x06,	0x00,	0x0D,	0x00,	0x06,	0xFF,	0xAF,	0x9D,	0x80,	0x50,	0x4A},	
	{0x00,	0x07,	0x00,	0x0F,	0x00,	0x07,	0xFF,	0xA9,	0x8C,	0x80,	0x56,	0x57},	
	{0x00,	0x08,	0x00,	0x10,	0x00,	0x08,	0xFF,	0xA4,	0xFF,	0x80,	0x5A,	0xE1},	
	{0x00,	0x09,	0x00,	0x13,	0x00,	0x09,	0xFF,	0x9D,	0x6A,	0x80,	0x62,	0x71},	
	{0x00,	0x0B,	0x00,	0x16,	0x00,	0x0B,	0xFF,	0x95,	0xD4,	0x80,	0x6A,	0x00},	
	{0x00,	0x0D,	0x00,	0x19,	0x00,	0x0D,	0xFF,	0x8E,	0x3F,	0x80,	0x71,	0x8F},	
	{0x00,	0x0E,	0x00,	0x1D,	0x00,	0x0E,	0xFF,	0x86,	0xA9,	0x80,	0x79,	0x1D},	
	{0x00,	0x10,	0x00,	0x20,	0x00,	0x10,	0xFF,	0x7F,	0x14,	0x80,	0x80,	0xAB},	
	{0x00,	0x12,	0x00,	0x24,	0x00,	0x12,	0xFF,	0x77,	0x7F,	0x80,	0x88,	0x39},	
	{0x00,	0x15,	0x00,	0x2A,	0x00,	0x15,	0xFF,	0x6C,	0xE1,	0x80,	0x92,	0xCB},	
	{0x00,	0x19,	0x00,	0x32,	0x00,	0x19,	0xFF,	0x5F,	0x3A,	0x80,	0xA0,	0x61},	
	{0x00,	0x1E,	0x00,	0x3B,	0x00,	0x1E,	0xFF,	0x51,	0x94,	0x80,	0xAD,	0xF6},	
	{0x00,	0x22,	0x00,	0x44,	0x00,	0x22,	0xFF,	0x45,	0x71,	0x80,	0xBA,	0x07},	
	{0x00,	0x27,	0x00,	0x4E,	0x00,	0x27,	0xFF,	0x37,	0xCB,	0x80,	0xC7,	0x99},	
	{0x00,	0x2C,	0x00,	0x58,	0x00,	0x2C,	0xFF,	0x2B,	0xA9,	0x80,	0xD3,	0xA8},	
	{0x00,	0x32,	0x00,	0x65,	0x00,	0x32,	0xFF,	0x1C,	0x7E,	0x80,	0xE2,	0xB9},	
	{0x00,	0x39,	0x00,	0x73,	0x00,	0x39,	0xFF,	0x0D,	0x53,	0x80,	0xF1,	0xC8},	
	{0x00,	0x41,	0x00,	0x81,	0x00,	0x41,	0xFE,	0xFE,	0x28,	0x81,	0x00,	0xD5},	
	{0x00,	0x48,	0x00,	0x91,	0x00,	0x48,	0xFE,	0xEE,	0xFD,	0x81,	0x0F,	0xE1},	
	{0x00,	0x51,	0x00,	0xA1,	0x00,	0x51,	0xFE,	0xDF,	0xD3,	0x81,	0x1E,	0xEA},	
	{0x00,	0x59,	0x00,	0xB3,	0x00,	0x59,	0xFE,	0xD0,	0xA8,	0x81,	0x2D,	0xF2},	

	// {0x00,	0x08,	0x00,	0x10,	0x00,	0x08,	0xFF,	0xA4,	0xFF,	0x80,	0x5A,	0xE1},	// 00	-> FC_real : 030, FC_PP : 060
	// {0x00,	0x0B,	0x00,	0x15,	0x00,	0x0B,	0xFF,	0x97,	0x58,	0x80,	0x68,	0x7D},	// 01	-> FC_real : 033, FC_PP : 069
	// {0x00,	0x0C,	0x00,	0x19,	0x00,	0x0C,	0xFF,	0x8F,	0xC3,	0x80,	0x70,	0x0C},	// 02	-> FC_real : 035, FC_PP : 074
	// {0x00,	0x0F,	0x00,	0x1F,	0x00,	0x0F,	0xFF,	0x82,	0x1D,	0x80,	0x7D,	0xA6},	// 03	-> FC_real : 038, FC_PP : 083
	// {0x00,	0x11,	0x00,	0x23,	0x00,	0x11,	0xFF,	0x7A,	0x87,	0x80,	0x85,	0x33},	// 04	-> FC_real : 040, FC_PP : 088
	// {0x00,	0x15,	0x00,	0x2A,	0x00,	0x15,	0xFF,	0x6C,	0xE1,	0x80,	0x92,	0xCB},	// 05	-> FC_real : 043, FC_PP : 097
	// {0x00,	0x18,	0x00,	0x30,	0x00,	0x18,	0xFF,	0x63,	0xC7,	0x80,	0x9B,	0xDA},	// 06	-> FC_real : 045, FC_PP : 103
	// {0x00,	0x1A,	0x00,	0x34,	0x00,	0x1A,	0xFF,	0x5C,	0x31,	0x80,	0xA3,	0x66},	// 07	-> FC_real : 048, FC_PP : 108
	// {0x00,	0x1F,	0x00,	0x3D,	0x00,	0x1F,	0xFF,	0x4E,	0x8B,	0x80,	0xB0,	0xFA},	// 08	-> FC_real : 050, FC_PP : 117
	// {0x00,	0x23,	0x00,	0x46,	0x00,	0x23,	0xFF,	0x42,	0x69,	0x80,	0xBD,	0x0B},	// 09	-> FC_real : 053, FC_PP : 125
	// {0x00,	0x26,	0x00,	0x4D,	0x00,	0x26,	0xFF,	0x39,	0x4F,	0x80,	0xC6,	0x17},	// 10	-> FC_real : 055, FC_PP : 131
	// {0x00,	0x2B,	0x00,	0x57,	0x00,	0x2B,	0xFF,	0x2D,	0x2D,	0x80,	0xD2,	0x26},	// 11	-> FC_real : 058, FC_PP : 139
	// {0x00,	0x2F,	0x00,	0x5E,	0x00,	0x2F,	0xFF,	0x24,	0x13,	0x80,	0xDB,	0x31},	// 12	-> FC_real : 060, FC_PP : 145
	// {0x00,	0x35,	0x00,	0x6A,	0x00,	0x35,	0xFF,	0x16,	0x6D,	0x80,	0xE8,	0xBF},	// 13	-> FC_real : 063, FC_PP : 154
	// {0x00,	0x39,	0x00,	0x71,	0x00,	0x39,	0xFF,	0x0E,	0xD7,	0x80,	0xF0,	0x46},	// 14	-> FC_real : 065, FC_PP : 159
	// {0x00,	0x3F,	0x00,	0x7E,	0x00,	0x3F,	0xFF,	0x01,	0x31,	0x80,	0xFD,	0xD3},	// 15	-> FC_real : 068, FC_PP : 168
	// {0x00,	0x43,	0x00,	0x86,	0x00,	0x43,	0xFE,	0xF9,	0x9B,	0x81,	0x05,	0x59},	// 16	-> FC_real : 070, FC_PP : 173
	// {0x00,	0x4A,	0x00,	0x94,	0x00,	0x4A,	0xFE,	0xEB,	0xF5,	0x81,	0x12,	0xE3},	// 17	-> FC_real : 073, FC_PP : 182
	// {0x00,	0x4F,	0x00,	0x9E,	0x00,	0x4F,	0xFE,	0xE2,	0xDB,	0x81,	0x1B,	0xE9},	// 18	-> FC_real : 075, FC_PP : 188
	// {0x00,	0x56,	0x00,	0xAC,	0x00,	0x56,	0xFE,	0xD6,	0xB9,	0x81,	0x27,	0xEF},	// 19	-> FC_real : 078, FC_PP : 196
	// {0x00,	0x5B,	0x00,	0xB6,	0x00,	0x5B,	0xFE,	0xCD,	0x9F,	0x81,	0x30,	0xF4},	// 20	-> FC_real : 080, FC_PP : 202
	// {0x00,	0x63,	0x00,	0xC5,	0x00,	0x63,	0xFE,	0xC1,	0x7D,	0x81,	0x3C,	0xF9},	// 21	-> FC_real : 083, FC_PP : 210
	// {0x00,	0x68,	0x00,	0xD1,	0x00,	0x68,	0xFE,	0xB8,	0x64,	0x81,	0x45,	0xFB},	// 22	-> FC_real : 085, FC_PP : 216
	// {0x00,	0x70,	0x00,	0xE0,	0x00,	0x70,	0xFE,	0xAC,	0x41,	0x81,	0x51,	0xFE},	// 23	-> FC_real : 088, FC_PP : 224
	// {0x00,	0x76,	0x00,	0xEC,	0x00,	0x76,	0xFE,	0xA3,	0x28,	0x81,	0x5B,	0x00},	// 24	-> FC_real : 090, FC_PP : 230
	// {0x00,	0x80,	0x00,	0xFF,	0x00,	0x80,	0xFE,	0x95,	0x81,	0x81,	0x68,	0x80},	// 25	-> FC_real : 093, FC_PP : 239
	// {0x00,	0x85,	0x01,	0x0A,	0x00,	0x85,	0xFE,	0x8D,	0xEC,	0x81,	0x70,	0x00},	// 26	-> FC_real : 095, FC_PP : 244
	// {0x00,	0x8F,	0x01,	0x0E,	0x00,	0x8F,	0xFE,	0x80,	0x46,	0x81,	0x7D,	0x7F},	// 27	-> FC_real : 098, FC_PP : 253
	// {0x00,	0x95,	0x01,	0x29,	0x00,	0x95,	0xFE,	0x78,	0xB0,	0x81,	0x84,	0xFD},	// 28	-> FC_real : 100, FC_PP : 258
	// {0x00,	0x9F,	0x01,	0x3E,	0x00,	0x9F,	0xFE,	0x6B,	0x0A,	0x81,	0x92,	0x7A},	// 29	-> FC_real : 103, FC_PP : 267
	// {0x00,	0xA6,	0x01,	0x4D,	0x00,	0xA6,	0xFE,	0x61,	0xF0,	0x81,	0x9B,	0x77},	// 30	-> FC_real : 105, FC_PP : 273
	// {0x00,	0xB0,	0x01,	0x60,	0x00,	0xB0,	0xFE,	0x55,	0xCE,	0x81,	0xA7,	0x71},	// 31	-> FC_real : 108, FC_PP : 281
	// {0x00,	0xB8,	0x01,	0x70,	0x00,	0xb8,	0xFE,	0x4C,	0xB4,	0x81,	0xB0,	0x6C},	// 32	-> FC_real : 110, FC_PP : 287
	// {0x00,	0xC2,	0x01,	0x84,	0x00,	0xC2,	0xFE,	0x40,	0x92,	0x81,	0xBC,	0x65},	// 33	-> FC_real : 113, FC_PP : 295
	// {0x00,	0xCA,	0x01,	0x94,	0x00,	0xCA,	0xFE,	0x37,	0x79,	0x81,	0xC5,	0x5F},	// 34	-> FC_real : 115, FC_PP : 301
	// {0x00,	0xD5,	0x01,	0xAA,	0x00,	0xD5,	0xFE,	0x2B,	0x57,	0x81,	0xD1,	0x56},	// 35	-> FC_real : 118, FC_PP : 309
	// {0x00,	0xDD,	0x01,	0xBA,	0x00,	0xDD,	0xFE,	0x22,	0x3D,	0x81,	0xDA,	0x4E},	// 36	-> FC_real : 120, FC_PP : 315
	// {0x00,	0xEA,	0x01,	0xD4,	0x00,	0xEA,	0xFE,	0x14,	0x97,	0x81,	0xE7,	0xC1},	// 37	-> FC_real : 123, FC_PP : 324
	// {0x00,	0xF1,	0x01,	0xE3,	0x00,	0xF1,	0xFE,	0x0D,	0x01,	0x81,	0xEF,	0x3A},	// 38	-> FC_real : 125, FC_PP : 329
	// {0x00,	0xFF,	0x01,	0xFD,	0x00,	0xFF,	0xFD,	0xFF,	0x5B,	0x81,	0xFC,	0xAB},	// 39	-> FC_real : 128, FC_PP : 338
	// {0x01,	0x06,	0x02,	0x0C,	0x01,	0x06,	0xFD,	0xF7,	0xC6,	0x82,	0x04,	0x22},	// 40	-> FC_real : 130, FC_PP : 343
	// {0x01,	0x14,	0x02,	0x28,	0x01,	0x14,	0xFD,	0xEA,	0x1F,	0x82,	0x11,	0x90},	// 41	-> FC_real : 133, FC_PP : 352
	// {0x01,	0x1D,	0x02,	0x3B,	0x01,	0x1D,	0xFD,	0xE1,	0x06,	0x82,	0x1A,	0x84},	// 42	-> FC_real : 135, FC_PP : 358
	// {0x01,	0x2A,	0x02,	0x55,	0x01,	0x2A,	0xFD,	0xD4,	0xE4,	0x82,	0x26,	0x73},	// 43	-> FC_real : 138, FC_PP : 366
	// {0x01,	0x34,	0x02,	0x68,	0x01,	0x34,	0xFD,	0xCB,	0xCA,	0x82,	0x2F,	0x65},	// 44	-> FC_real : 140, FC_PP : 372
	// {0x01,	0x41,	0x02,	0x83,	0x01,	0x41,	0xFD,	0xBF,	0xA8,	0x82,	0x3B,	0x52},	// 45	-> FC_real : 143, FC_PP : 380
	// {0x01,	0x4C,	0x02,	0x97,	0x01,	0x4C,	0xFD,	0xB6,	0x8F,	0x82,	0x44,	0x43},	// 46	-> FC_real : 145, FC_PP : 386
};


void tas5548_init(void)
{
	HAL_StatusTypeDef	ack = HAL_BUSY;
	uint8_t i = 0;

	while (ack != HAL_OK)
	{
		ack = HAL_I2C_IsDeviceReady(&hi2c2,TAS5548_ADDR,10,50);
		if(ack == HAL_ERROR) i++;
		else if(ack == HAL_BUSY) i++;
		else if(ack == HAL_TIMEOUT) i++;
		if(i > 9)
		{
			ack = HAL_OK;
			soundCt.bOutputSoundFlag = I2C_STAT_TIMEOUT;
		}
	}

	// HAL_Delay(1000);

	if(ack == HAL_OK && soundCt.bOutputSoundFlag != I2C_STAT_TIMEOUT)
	{
		// tas5548_masterVolume(soundCt.bSoundLevel);
		// tas5548_freqCutOff(soundCt.bSoundCutOff);
		// tas5548_polarity(soundCt.bSoundPolar);
		tas5548_mode(soundCt.bSoundMode);
		HAL_Delay(10);

		soundCt.bOutputSoundFlag = I2C_STAT_OK;
		for(i = 0; i < 107; i++)
		{
			HAL_I2C_Mem_Write(&hi2c2,TAS5548_WRITE+TAS5548_ADDR,tas5548_reg_defaults[i].addr,I2C_MEMADD_SIZE_8BIT,tas5548_reg_defaults[i].isi,tas5548_reg_defaults[i].size,100);
			HAL_Delay(4);
		}
	}
}

void tas5548_mode(uint8_t iMode)
{
	// uint8_t i = 0;
	if(iMode)	//bypass settings
	{
		tas5548_freqCutOff(MAX_FREQ_CUTOFF);
		tas5548_masterVolume(MAX_LEVEL_VOL);
	#ifndef USE_SOUND_SHIFT_EN
		tas5548_polarity(NORMAL_POLARITY);
	#endif
	}
	else
	{
		tas5548_freqCutOff(soundCt.bSoundCutOff);
		tas5548_masterVolume(soundCt.bSoundLevel);
	#ifndef USE_SOUND_SHIFT_EN
		tas5548_polarity(soundCt.bSoundPolar);
	#endif
	}
}

void tas5548_freqCutOff(uint8_t fCutOff)
{
#ifdef SETTING_AUTRAN
	CH1_BIQUAD2_FILTER[2] = CH1_BIQUAD3_FILTER[2] = FREQ_CUTOFF[fCutOff][0];
	CH1_BIQUAD2_FILTER[3] = CH1_BIQUAD3_FILTER[3] = FREQ_CUTOFF[fCutOff][1];
	CH1_BIQUAD2_FILTER[6] = CH1_BIQUAD3_FILTER[6] = FREQ_CUTOFF[fCutOff][2];
	CH1_BIQUAD2_FILTER[7] = CH1_BIQUAD3_FILTER[7] = FREQ_CUTOFF[fCutOff][3];
	CH1_BIQUAD2_FILTER[10] = CH1_BIQUAD3_FILTER[10] = FREQ_CUTOFF[fCutOff][4];
	CH1_BIQUAD2_FILTER[11] = CH1_BIQUAD3_FILTER[11] = FREQ_CUTOFF[fCutOff][5];
	CH1_BIQUAD2_FILTER[13] = CH1_BIQUAD3_FILTER[13] = FREQ_CUTOFF[fCutOff][6];
	CH1_BIQUAD2_FILTER[14] = CH1_BIQUAD3_FILTER[14] = FREQ_CUTOFF[fCutOff][7];
	CH1_BIQUAD2_FILTER[15] = CH1_BIQUAD3_FILTER[15] = FREQ_CUTOFF[fCutOff][8];
	CH1_BIQUAD2_FILTER[17] = CH1_BIQUAD3_FILTER[17] = FREQ_CUTOFF[fCutOff][9];
	CH1_BIQUAD2_FILTER[18] = CH1_BIQUAD3_FILTER[18] = FREQ_CUTOFF[fCutOff][10];
	CH1_BIQUAD2_FILTER[19] = CH1_BIQUAD3_FILTER[19] = FREQ_CUTOFF[fCutOff][11];
#else
	CH1_BIQUAD3_FILTER[2] = CH1_BIQUAD4_FILTER[2] = CH1_BIQUAD5_FILTER[2] = FREQ_CUTOFF[fCutOff][0];
	CH1_BIQUAD3_FILTER[3] = CH1_BIQUAD4_FILTER[3] = CH1_BIQUAD5_FILTER[3] = FREQ_CUTOFF[fCutOff][1];
	CH1_BIQUAD3_FILTER[6] = CH1_BIQUAD4_FILTER[6] = CH1_BIQUAD5_FILTER[6] = FREQ_CUTOFF[fCutOff][2];
	CH1_BIQUAD3_FILTER[7] = CH1_BIQUAD4_FILTER[7] = CH1_BIQUAD5_FILTER[7] = FREQ_CUTOFF[fCutOff][3];
	CH1_BIQUAD3_FILTER[10] = CH1_BIQUAD4_FILTER[10] = CH1_BIQUAD5_FILTER[10] = FREQ_CUTOFF[fCutOff][4];
	CH1_BIQUAD3_FILTER[11] = CH1_BIQUAD4_FILTER[11] = CH1_BIQUAD5_FILTER[11] = FREQ_CUTOFF[fCutOff][5];
	CH1_BIQUAD3_FILTER[13] = CH1_BIQUAD4_FILTER[13] = CH1_BIQUAD5_FILTER[13] = FREQ_CUTOFF[fCutOff][6];
	CH1_BIQUAD3_FILTER[14] = CH1_BIQUAD4_FILTER[14] = CH1_BIQUAD5_FILTER[14] = FREQ_CUTOFF[fCutOff][7];
	CH1_BIQUAD3_FILTER[15] = CH1_BIQUAD4_FILTER[15] = CH1_BIQUAD5_FILTER[15] = FREQ_CUTOFF[fCutOff][8];
	CH1_BIQUAD3_FILTER[17] = CH1_BIQUAD4_FILTER[17] = CH1_BIQUAD5_FILTER[17] = FREQ_CUTOFF[fCutOff][9];
	CH1_BIQUAD3_FILTER[18] = CH1_BIQUAD4_FILTER[18] = CH1_BIQUAD5_FILTER[18] = FREQ_CUTOFF[fCutOff][10];
	CH1_BIQUAD3_FILTER[19] = CH1_BIQUAD4_FILTER[19] = CH1_BIQUAD5_FILTER[19] = FREQ_CUTOFF[fCutOff][11];
#endif

	for(uint8_t i = 10; i < 16; i++)
	{
		HAL_I2C_Mem_Write(&hi2c2,TAS5548_WRITE+TAS5548_ADDR,tas5548_reg_defaults[i].addr,I2C_MEMADD_SIZE_8BIT,tas5548_reg_defaults[i].isi,tas5548_reg_defaults[i].size,100);
		HAL_Delay(4);
	}
}

void tas5548_masterVolume(uint8_t mVol)
{
	MASTER_VOL2[2] = VOLUME_MASTER[mVol][0];
	MASTER_VOL2[3] = VOLUME_MASTER[mVol][1];

	HAL_I2C_Mem_Write(&hi2c2,TAS5548_WRITE+TAS5548_ADDR,TAS5548_MASTER_VOL,I2C_MEMADD_SIZE_8BIT,&MASTER_VOL2[0],4,100);
}

void tas5548_polarity(uint8_t bPol)
{
	if(bPol)
	{
		CH_CFG_CTRL1 = INVERT_POLARITY;
	}
	else
	{
		CH_CFG_CTRL1 = NORMAL_POLARITY;
	}
	HAL_I2C_Mem_Write(&hi2c2,TAS5548_WRITE+TAS5548_ADDR,TAS5548_CH_CFG_CTRL1,I2C_MEMADD_SIZE_8BIT,&CH_CFG_CTRL1,1,100);
}





